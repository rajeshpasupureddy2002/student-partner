{{#if (eq user.role 'student')}}
{{> dashboards/student}}
{{else if (eq user.role 'teacher')}}
{{> dashboards/teacher}}
{{else if (eq user.role 'admin')}}
{{> dashboards/admin}}
{{else if (eq user.role 'parent')}}
{{> dashboards/parent}}
{{/if}}

<!-- ATTENDANCE CONTEXT MENU -->
<div id="attendanceMenu" class="attendance-menu glass-card" style="display: none;">
  <button onclick="markAttendance('present')"><span class="dot present"></span> Present</button>
  <button onclick="markAttendance('absent')"><span class="dot absent"></span> Absent</button>
  <button onclick="markAttendance('holiday')"><span class="dot holiday"></span> Holiday</button>
  <button onclick="markAttendance('none')"><i class="fa-solid fa-eraser"></i> Clear</button>
</div>


{{#if (eq user.role 'admin')}}
<div id="scheduleModal" class="modal-overlay">
  <div class="modal-content glass-card">
    <div class="modal-header">
      <h3>Schedule Event</h3>
      <button class="btn-close" onclick="showScheduleModal()"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <form class="task-form" action="/admin/meetings/schedule" method="POST">
      <div class="form-group">
        <label>Event Title</label>
        <input type="text" name="title" placeholder="e.g. Annual Sports Meet" required>
      </div>
      <div class="form-group">
        <label>Date</label>
        <input type="datetime-local" name="date" required>
      </div>
      <div class="form-group">
        <label>Description</label>
        <textarea name="description" class="input-area" rows="3"></textarea>
      </div>
      <button type="submit" class="btn-primary">Schedule Event</button>
    </form>
  </div>
</div>

<script>
  function showScheduleModal() {
    const modal = document.getElementById('scheduleModal');
    modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
  }
</script>
{{/if}}